model Payment {
  id        String         @id @default(uuid())
  method    String
  amount    Float
  user      User           @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId    String
  order     Order?         @relation("OrderPayment", fields: [orderId], references: [id], onDelete: SetNull)
  orderId   String?        @unique
  status    PAYMENT_STATUS @default(PENDING)
  createdAt DateTime       @default(now())
  updatedAt DateTime       @updatedAt

  @@index([userId, orderId])
}



model Shipment {
  id             String    @id @default(uuid())
  carrier        String
  trackingNumber String
  shippedDate    DateTime
  deliveryDate   DateTime?
  order          Order     @relation("OrderShipment", fields: [orderId], references: [id], onDelete: Cascade)
  orderId        String    @unique
  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt

  @@index([orderId])
}


model Transaction {
  id              String             @id @default(uuid())
  order           Order              @relation("OrderTransaction", fields: [orderId], references: [id], onDelete: Cascade)
  orderId         String             @unique
  status          TRANSACTION_STATUS @default(PENDING)
  transactionDate DateTime           @default(now())
  createdAt       DateTime           @default(now())
  updatedAt       DateTime           @updatedAt

  @@index([orderId])
}